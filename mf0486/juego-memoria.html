<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego de Memoria de Seguridad</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #f0f2f5 0%, #e0e5ec 100%);
            color: #333;
            padding: 20px;
            box-sizing: border-box;
        }

        .game-container {
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1), 0 5px 15px rgba(0, 0, 0, 0.05);
            padding: 30px;
            text-align: center;
            max-width: 90%;
            width: 1000px;
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 2.5em;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
        }

        .card {
            width: 100%;
            height: 180px;
            perspective: 1000px;
            cursor: pointer;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .card-inner {
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-face, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
            box-sizing: border-box;
        }

        .card-back {
            background: linear-gradient(135deg, #4CAF50 0%, #8BC34A 100%);
            color: #fff;
            font-size: 3em;
        }

        .card-face {
            background-color: #ecf0f1;
            color: #2c3e50;
            transform: rotateY(180deg);
            border: 2px solid #bdc3c7;
            font-size: 1.2em;
            line-height: 1.3;
            text-align: center;
        }

        .card-face img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .card.matched .card-inner {
            border: 3px solid #f39c12;
            box-shadow: 0 0 15px rgba(243, 156, 18, 0.8);
            animation: match-animation 0.8s ease-out;
            pointer-events: none;
        }

        @keyframes match-animation {
            0% { transform: scale(1) rotateY(180deg); }
            50% { transform: scale(1.05) rotateY(180deg); }
            100% { transform: scale(1) rotateY(180deg); }
        }

        #game-messages {
            margin-top: 20px;
            font-size: 1.4em;
            color: #e67e22;
            font-weight: bold;
            min-height: 30px;
        }

        button {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            margin-top: 20px;
        }

        #win-message {
            font-size: 2em;
            color: #27ae60;
            margin-top: 20px;
            font-weight: bold;
            animation: bounce 0.8s infinite alternate;
        }

        @keyframes bounce {
            0% { transform: translateY(0); }
            100% { transform: translateY(-10px); }
        }
    </style>
</head>
<body>

    <div class="game-container">
        <h1>Juego de Memoria de Seguridad üõ°Ô∏è</h1>
        <div id="game-messages"></div>
        <div class="card-grid" id="game-board"></div>
        <button id="reset-button">Reiniciar Juego</button>
    </div>

    <script>
        const concepts = [
            { id: 'firewall', type: 'text', content: 'Firewall: Guardi√°n de red que controla el tr√°fico.' },
            { id: 'firewall', type: 'img', content: '<img src="../assets/img/firewall.png" alt="Firewall">' },

            { id: 'backup', type: 'text', content: 'Copia de Seguridad: Duplicado de datos para recuperar informaci√≥n.' },
            { id: 'backup', type: 'img', content: '<img src="../assets/img/backup.png" alt="Backup">' },

            { id: 'antivirus', type: 'text', content: 'Antivirus: Software que protege contra c√≥digo malicioso.' },
            { id: 'antivirus', type: 'img', content: '<img src="../assets/img/antivirus.png" alt="Antivirus">' },

            { id: 'password', type: 'text', content: 'Contrase√±a Fuerte: Clave compleja y segura para el acceso.' },
            { id: 'password', type: 'img', content: '<img src="../assets/img/password.png" alt="Password">' },

            { id: 'incident', type: 'text', content: 'Incidencia: Evento inesperado que compromete la seguridad.' },
            { id: 'incident', type: 'img', content: '<img src="../assets/img/incident.png" alt="Incident">' },

            { id: 'physical', type: 'text', content: 'Seguridad F√≠sica: Protecci√≥n de equipos e infraestructura del entorno.' },
            { id: 'physical', type: 'img', content: '<img src="../assets/img/physical.png" alt="Physical Security">' }
        ];

        const gameBoard = document.getElementById('game-board');
        const resetButton = document.getElementById('reset-button');
        const gameMessages = document.getElementById('game-messages');

        let flippedCards = [];
        let matchedPairs = 0;
        let lockBoard = false;

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function createCard(item, index) {
            const card = document.createElement('div');
            card.classList.add('card');
            card.dataset.id = item.id;
            card.dataset.index = index;

            const cardInner = document.createElement('div');
            cardInner.classList.add('card-inner');

            const cardBack = document.createElement('div');
            cardBack.classList.add('card-back');
            cardBack.textContent = '?';

            const cardFace = document.createElement('div');
            cardFace.classList.add('card-face');

            if (item.type === 'img') {
                cardFace.innerHTML = item.content;
            } else {
                cardFace.textContent = item.content;
            }

            cardInner.appendChild(cardBack);
            cardInner.appendChild(cardFace);
            card.appendChild(cardInner);

            card.addEventListener('click', flipCard);
            return card;
        }

        function flipCard() {
            if (lockBoard || this.classList.contains('flipped') || this.classList.contains('matched')) {
                return;
            }
            this.classList.add('flipped');
            flippedCards.push(this);

            if (flippedCards.length === 2) {
                lockBoard = true;
                checkForMatch();
            }
        }

        function checkForMatch() {
            const [firstCard, secondCard] = flippedCards;
            const isMatch = firstCard.dataset.id === secondCard.dataset.id;

            if (isMatch) {
                disableCards(firstCard, secondCard);
            } else {
                unflipCards(firstCard, secondCard);
            }
        }

        function disableCards(card1, card2) {
            card1.removeEventListener('click', flipCard);
            card2.removeEventListener('click', flipCard);
            card1.classList.add('matched');
            card2.classList.add('matched');
            matchedPairs++;
            gameMessages.textContent = '¬°Emparejado! üéâ';
            setTimeout(() => gameMessages.textContent = '', 1000);
            resetBoard();
            checkWin();
        }

        function unflipCards(card1, card2) {
            gameMessages.textContent = 'Intenta de nuevo... ü§î';
            setTimeout(() => {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
                gameMessages.textContent = '';
                resetBoard();
            }, 1500);
        }

        function resetBoard() {
            flippedCards = [];
            lockBoard = false;
        }

        function checkWin() {
            if (matchedPairs === concepts.length / 2) {
                gameMessages.innerHTML = '<span id="win-message">¬°Felicidades! ¬°Has ganado el juego! üéâ</span>';
            }
        }

        function initializeGame() {
            gameBoard.innerHTML = '';
            matchedPairs = 0;
            resetBoard();

            const shuffledConcepts = shuffle([...concepts]);
            shuffledConcepts.forEach((item, index) => {
                const cardElement = createCard(item, index);
                gameBoard.appendChild(cardElement);
            });
            gameMessages.textContent = '¬°Encuentra los pares! üòâ';
        }

        resetButton.addEventListener('click', initializeGame);
        window.onload = initializeGame;
    </script>
</body>
</html>

