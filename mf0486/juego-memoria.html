<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego de Memoria de Seguridad</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Fuentes */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #f0f2f5 0%, #e0e5ec 100%);
            color: #333;
            padding: 20px;
            box-sizing: border-box;
        }

        /* Contenedor principal del juego */
        .game-container {
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1), 0 5px 15px rgba(0, 0, 0, 0.05);
            padding: 30px;
            text-align: center;
            max-width: 90%;
            width: 800px; /* Ancho fijo para desktop */
            margin-bottom: 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 2.5em;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        /* Cuadr√≠cula de tarjetas */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); /* Adaptable */
            gap: 15px;
            width: 100%;
            max-width: 700px; /* Ancho m√°ximo para el grid */
            margin: 0 auto; /* Centrar el grid */
        }

        /* Estilo base de cada tarjeta */
        .card {
            width: 100%;
            height: 120px;
            perspective: 1000px; /* Para el efecto 3D de volteo */
            cursor: pointer;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        /* Contenido interno de la tarjeta (frente y dorso) */
        .card-inner {
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Voltear la tarjeta */
        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        /* Estilo del frente de la tarjeta (dorso visible inicialmente) */
        .card-face, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden; /* Oculta la parte trasera durante el volteo */
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
            box-sizing: border-box;
            font-size: 1.2em;
            font-weight: bold;
        }

        /* Estilo del dorso de la tarjeta (parte oculta) */
        .card-back {
            background: linear-gradient(135deg, #4CAF50 0%, #8BC34A 100%); /* Verde */
            color: #fff;
            font-size: 2.5em;
        }

        /* Estilo del frente de la tarjeta (contenido visible al voltear) */
        .card-face {
            background-color: #ecf0f1; /* Gris claro */
            color: #2c3e50;
            transform: rotateY(180deg); /* Oculto inicialmente */
            border: 2px solid #bdc3c7;
            font-size: 0.9em; /* Ajuste para texto largo */
            word-break: break-word; /* Para manejar texto largo */
            text-align: center;
            line-height: 1.3;
        }

        /* Estilo para tarjetas emparejadas */
        .card.matched .card-inner {
            border: 3px solid #f39c12; /* Borde dorado */
            box-shadow: 0 0 15px rgba(243, 156, 18, 0.8); /* Resplandor dorado */
            animation: match-animation 0.8s ease-out;
            pointer-events: none; /* Desactivar clics en tarjetas emparejadas */
        }

        /* Animaci√≥n para tarjetas emparejadas */
        @keyframes match-animation {
            0% { transform: scale(1) rotateY(180deg); opacity: 1; }
            50% { transform: scale(1.05) rotateY(180deg); opacity: 1; }
            100% { transform: scale(1) rotateY(180deg); opacity: 1; }
        }

        /* Mensajes de estado del juego */
        #game-messages {
            margin-top: 20px;
            font-size: 1.4em;
            color: #e67e22;
            font-weight: bold;
            min-height: 30px; /* Para evitar CLS */
        }

        /* Bot√≥n de reinicio */
        button {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); /* Azul */
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            margin-top: 20px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.3);
        }

        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        /* Mensaje de victoria */
        #win-message {
            font-size: 2em;
            color: #27ae60;
            margin-top: 20px;
            font-weight: bold;
            animation: bounce 0.8s infinite alternate;
        }

        @keyframes bounce {
            0% { transform: translateY(0); }
            100% { transform: translateY(-10px); }
        }

        /* Media queries para responsividad */
        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }
            .card-grid {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
                gap: 10px;
            }
            .card {
                height: 100px;
            }
            .card-back {
                font-size: 2em;
            }
            .card-face {
                font-size: 0.8em;
            }
            .game-container {
                padding: 20px;
                width: 100%;
                max-width: 100%; /* Permitir que ocupe todo el ancho en m√≥viles */
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.8em;
            }
            .card-grid {
                grid-template-columns: repeat(3, 1fr); /* 3 columnas en pantallas muy peque√±as */
                gap: 8px;
            }
            .card {
                height: 90px;
            }
            .card-back {
                font-size: 1.8em;
            }
            .card-face {
                font-size: 0.7em;
            }
        }
    </style>
</head>
<body>

    <div class="game-container">
        <h1>Juego de Memoria de Seguridad üõ°Ô∏è</h1>
        <div id="game-messages"></div>
        <div class="card-grid" id="game-board">
            <!-- Las tarjetas se insertar√°n aqu√≠ por JavaScript -->
        </div>
        <button id="reset-button">Reiniciar Juego</button>
    </div>

    <script>
        // Array de conceptos y sus representaciones (texto/definici√≥n e icono/emoji)
        // Cada par tiene un 'id' √∫nico para poder emparejarlos.
        const concepts = [
            { id: 'firewall', type: 'text', content: 'Firewall: Guardi√°n de red que controla el tr√°fico.' },
            { id: 'firewall', type: 'icon', content: 'üß±' }, // Imagen/icono para Firewall

            { id: 'backup', type: 'text', content: 'Copia de Seguridad: Duplicado de datos para recuperar informaci√≥n.' },
            { id: 'backup', type: 'icon', content: 'üíæ' }, // Imagen/icono para Copia de Seguridad

            { id: 'antivirus', type: 'text', content: 'Antivirus: Software que protege contra c√≥digo malicioso.' },
            { id: 'antivirus', type: 'icon', content: 'üõ°Ô∏è' }, // Imagen/icono para Antivirus

            { id: 'password', type: 'text', content: 'Contrase√±a Fuerte: Clave compleja y segura para el acceso.' },
            { id: 'password', type: 'icon', content: 'üîë' }, // Imagen/icono para Contrase√±a

            { id: 'incident', type: 'text', content: 'Incidencia: Evento inesperado que compromete la seguridad.' },
            { id: 'incident', type: 'icon', content: 'üö®' }, // Imagen/icono para Incidencia

            { id: 'physical', type: 'text', content: 'Seguridad F√≠sica: Protecci√≥n de equipos e infraestructura del entorno.' },
            { id: 'physical', type: 'icon', content: 'üé•' } // Imagen/icono para Seguridad F√≠sica
        ];

        // Elementos del DOM
        const gameBoard = document.getElementById('game-board');
        const resetButton = document.getElementById('reset-button');
        const gameMessages = document.getElementById('game-messages');

        // Variables de estado del juego
        let flippedCards = []; // Almacena las tarjetas volteadas actualmente
        let matchedPairs = 0; // Contador de pares encontrados
        let lockBoard = false; // Bloquea el tablero para evitar clics mientras se procesa un par

        /**
         * Baraja un array de elementos utilizando el algoritmo de Fisher-Yates.
         * @param {Array} array - El array a barajar.
         * @returns {Array} El array barajado.
         */
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Intercambio de elementos
            }
            return array;
        }

        /**
         * Crea una tarjeta HTML para el juego.
         * @param {Object} item - El objeto que contiene la informaci√≥n de la tarjeta (id, type, content).
         * @param {number} index - El √≠ndice de la tarjeta en el tablero.
         * @returns {HTMLElement} El elemento div que representa la tarjeta.
         */
        function createCard(item, index) {
            const card = document.createElement('div');
            card.classList.add('card');
            card.dataset.id = item.id; // Asigna el ID para emparejar
            card.dataset.index = index; // Para identificar la tarjeta √∫nica

            const cardInner = document.createElement('div');
            cardInner.classList.add('card-inner');

            const cardBack = document.createElement('div');
            cardBack.classList.add('card-back');
            cardBack.textContent = '?'; // Icono o texto inicial para la parte trasera de la tarjeta

            const cardFace = document.createElement('div');
            cardFace.classList.add('card-face');
            cardFace.textContent = item.content; // Contenido real de la tarjeta

            cardInner.appendChild(cardBack);
            cardInner.appendChild(cardFace);
            card.appendChild(cardInner);

            // Asigna el manejador de eventos para el clic
            card.addEventListener('click', flipCard);
            return card;
        }

        /**
         * Voltea una tarjeta al hacer clic en ella.
         * Maneja la l√≥gica de selecci√≥n y emparejamiento.
         * @param {Event} event - El evento de clic.
         */
        function flipCard(event) {
            // Si el tablero est√° bloqueado, o la tarjeta ya est√° volteada/emparejada, ignora el clic
            if (lockBoard || this.classList.contains('flipped') || this.classList.contains('matched')) {
                return;
            }

            this.classList.add('flipped'); // Agrega la clase 'flipped' para voltear la tarjeta
            flippedCards.push(this); // A√±ade la tarjeta a la lista de tarjetas volteadas

            // Si hay dos tarjetas volteadas, verifica si son un par
            if (flippedCards.length === 2) {
                lockBoard = true; // Bloquea el tablero para evitar m√°s clics
                checkForMatch(); // Llama a la funci√≥n para verificar el emparejamiento
            }
        }

        /**
         * Comprueba si las dos tarjetas volteadas coinciden.
         */
        function checkForMatch() {
            const [firstCard, secondCard] = flippedCards;
            // Compara los IDs de las tarjetas para ver si coinciden
            const isMatch = firstCard.dataset.id === secondCard.dataset.id;

            if (isMatch) {
                disableCards(firstCard, secondCard); // Si coinciden, desactiva las tarjetas
            } else {
                unflipCards(firstCard, secondCard); // Si no coinciden, voltea las tarjetas de nuevo
            }
        }

        /**
         * Desactiva las tarjetas que han sido emparejadas.
         * @param {HTMLElement} card1 - La primera tarjeta emparejada.
         * @param {HTMLElement} card2 - La segunda tarjeta emparejada.
         */
        function disableCards(card1, card2) {
            card1.removeEventListener('click', flipCard); // Remueve el evento de clic
            card2.removeEventListener('click', flipCard); // Remueve el evento de clic
            card1.classList.add('matched'); // A√±ade la clase 'matched'
            card2.classList.add('matched'); // A√±ade la clase 'matched'
            matchedPairs++; // Incrementa el contador de pares
            gameMessages.textContent = '¬°Emparejado! üéâ'; // Muestra mensaje de √©xito
            setTimeout(() => {
                gameMessages.textContent = ''; // Limpia el mensaje despu√©s de un tiempo
            }, 1000);

            resetBoard(); // Reinicia el estado de las tarjetas volteadas y desbloquea el tablero
            checkWin(); // Verifica si el juego ha terminado
        }

        /**
         * Voltea las tarjetas de nuevo si no coinciden.
         * @param {HTMLElement} card1 - La primera tarjeta no emparejada.
         * @param {HTMLElement} card2 - La segunda tarjeta no emparejada.
         */
        function unflipCards(card1, card2) {
            gameMessages.textContent = 'Intenta de nuevo... ü§î'; // Muestra mensaje de fallo
            setTimeout(() => {
                card1.classList.remove('flipped'); // Remueve la clase 'flipped'
                card2.classList.remove('flipped'); // Remueve la clase 'flipped'
                gameMessages.textContent = ''; // Limpia el mensaje
                resetBoard(); // Reinicia el estado de las tarjetas volteadas y desbloquea el tablero
            }, 1500); // Espera 1.5 segundos antes de voltearlas de nuevo
        }

        /**
         * Reinicia el estado de las variables del tablero despu√©s de un intento de emparejamiento.
         */
        function resetBoard() {
            flippedCards = []; // Limpia la lista de tarjetas volteadas
            lockBoard = false; // Desbloquea el tablero
        }

        /**
         * Verifica si todos los pares han sido encontrados y el juego ha terminado.
         */
        function checkWin() {
            if (matchedPairs === concepts.length / 2) { // Si el n√∫mero de pares emparejados es igual al total de pares
                gameMessages.innerHTML = '<span id="win-message">¬°Felicidades! ¬°Has ganado el juego! üéâ</span>'; // Muestra mensaje de victoria
            }
        }

        /**
         * Inicializa o reinicia el juego.
         * Genera las tarjetas, las baraja y las muestra en el tablero.
         */
        function initializeGame() {
            gameBoard.innerHTML = ''; // Limpia el tablero actual
            matchedPairs = 0; // Reinicia el contador de pares
            resetBoard(); // Reinicia las variables de estado

            // Baraja las tarjetas
            const shuffledConcepts = shuffle([...concepts]); // Crea una copia para barajar

            // Crea y a√±ade las tarjetas al tablero
            shuffledConcepts.forEach((item, index) => {
                const cardElement = createCard(item, index);
                gameBoard.appendChild(cardElement);
            });
            gameMessages.textContent = '¬°Encuentra los pares! üòâ'; // Mensaje inicial
        }

        // Event listener para el bot√≥n de reiniciar
        resetButton.addEventListener('click', initializeGame);

        // Inicia el juego cuando la ventana se carga
        window.onload = initializeGame;
    </script>
</body>
</html>
